/* record_necropoli/css/timebar_detail.css */

#timebar-detail{
  position: fixed;
  z-index: 1000;
  background: rgba(255,255,255,0.96);
  border: 1px solid #d1d5db;
  border-radius: 12px;
  padding: 10px 12px 12px;
  box-shadow: 0 4px 16px rgba(0,0,0,0.12);
  max-width: 1100px; /* sicuro per schermi ampi */
}

/* layout */
#timebar-detail .tb-controls{
  display:flex; align-items:center; justify-content:space-between;
  gap: 10px; margin-bottom: 6px;
}

#timebar-detail .tb-labels{
  display:flex; gap:8px; align-items:center; flex-wrap:wrap;
}

#timebar-detail .chip{
  display:inline-flex; gap:6px; align-items:center;
  background:#f3f4f6; border:1px solid #e5e7eb; color:#111827;
  padding:4px 8px; border-radius:999px; font-size:12px; line-height:1;
}
#timebar-detail .chip .dot{
  width:8px; height:8px; border-radius:50%; background:#22c55e;
}

#timebar-detail .tb-switch{ display:flex; gap:8px; align-items:center; }
#timebar-detail .tb-switch input{ accent-color:#22c55e; }
#timebar-detail .tb-switch-label{ font-size:12px; color:#374151; }

#timebar-detail .tb-canvas-wrap{
  width:100%; height:120px; /* compatto */
}

#timebar-detail .tb-sliders{
  position:relative; margin-top:6px;
}
#timebar-detail .tb-sliders input[type="range"]{
  -webkit-appearance:none; appearance:none;
  width:100%; height:18px; background:transparent; position:absolute; left:0; right:0;
}
#timebar-detail .tb-sliders input[type="range"]::-webkit-slider-thumb{
  -webkit-appearance:none; appearance:none;
  width:14px; height:14px; border-radius:50%;
  background:#2563eb; border:2px solid white; box-shadow:0 0 0 2px rgba(37,99,235,.25);
  cursor:pointer; position:relative; z-index:2;
}
#timebar-detail .tb-sliders input[type="range"]::-moz-range-thumb{
  width:14px; height:14px; border-radius:50%;
  background:#2563eb; border:2px solid white; box-shadow:0 0 0 2px rgba(37,99,235,.25);
  cursor:pointer; position:relative; z-index:2;
}

/* aiuto */
#timebar-detail .tb-help{
  position:absolute; top:8px; right:8px;
  border:none; background:#111827; color:white; border-radius:8px;
  width:24px; height:24px; line-height:24px; font-weight:700; cursor:pointer;
  opacity:.75;
}
#timebar-detail .tb-help:hover{ opacity:1; }

/* Ombreggiatura dell'intervallo selezionato a livello container (fallback visivo) */
#timebar-detail{
  --tb-from: 0; --tb-to: 0; --tb-count: 14;
  background-image:
    linear-gradient( to right,
      transparent calc((var(--tb-from) / var(--tb-count)) * 100%),
      rgba(34,197,94,0.06) calc((var(--tb-from) / var(--tb-count)) * 100%),
      rgba(34,197,94,0.06) calc(((var(--tb-to)+1) / var(--tb-count)) * 100%),
      transparent calc(((var(--tb-to)+1) / var(--tb-count)) * 100%)
    );
  background-size: 100% 100%;
  background-repeat: no-repeat;
}

/* Mobile: se lo spazio Ã¨ limitato, sfrutta tutta la larghezza della mappa */
@media (max-width: 900px){
  #timebar-detail{ left: 12px !important; right: 12px !important; }
}
